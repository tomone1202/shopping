(function(t){function e(e){for(var s,n,i=e[0],c=e[1],l=e[2],u=0,p=[];u<i.length;u++)n=i[u],Object.prototype.hasOwnProperty.call(r,n)&&r[n]&&p.push(r[n][0]),r[n]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);d&&d(e);while(p.length)p.shift()();return o.push.apply(o,l||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],s=!0,n=1;n<a.length;n++){var c=a[n];0!==r[c]&&(s=!1)}s&&(o.splice(e--,1),t=i(i.s=a[0]))}return t}var s={},r={app:0},o=[];function n(t){return i.p+"js/"+({about:"about"}[t]||t)+"."+{about:"e41f638b","chunk-1ec72f47":"da759270","chunk-2d0ab565":"d41cbf1f","chunk-b0295d50":"a0cb4eea"}[t]+".js"}function i(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.e=function(t){var e=[],a=r[t];if(0!==a)if(a)e.push(a[2]);else{var s=new Promise((function(e,s){a=r[t]=[e,s]}));e.push(a[2]=s);var o,c=document.createElement("script");c.charset="utf-8",c.timeout=120,i.nc&&c.setAttribute("nonce",i.nc),c.src=n(t);var l=new Error;o=function(e){c.onerror=c.onload=null,clearTimeout(u);var a=r[t];if(0!==a){if(a){var s=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src;l.message="Loading chunk "+t+" failed.\n("+s+": "+o+")",l.name="ChunkLoadError",l.type=s,l.request=o,a[1](l)}r[t]=void 0}};var u=setTimeout((function(){o({type:"timeout",target:c})}),12e4);c.onerror=c.onload=o,document.head.appendChild(c)}return Promise.all(e)},i.m=t,i.c=s,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(a,s,function(e){return t[e]}.bind(null,s));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/",i.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var d=l;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"220e":function(t,e,a){"use strict";var s=a("8d3f"),r=a.n(s);r.a},3030:function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("4de4");var s=a("5530"),r=(a("e260"),a("e6cf"),a("cca6"),a("a79d"),a("2b0e")),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("div",{attrs:{id:"nav"}}),a("router-view")],1)},n=[],i={name:"App",created:function(){}},c=i,l=(a("5c0b"),a("2877")),u=Object(l["a"])(c,o,n,!1,null,null,null),d=u.exports,p=(a("d3b7"),a("8c4f")),m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("router-link",{staticClass:"btn btn-primary",attrs:{to:"/login",type:"button"}},[t._v("登入")]),a("router-link",{staticClass:"btn btn-info",attrs:{to:"/customer_order",type:"button"}},[t._v("模擬訂單")]),a("a",{staticClass:"btn btn-secondary",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.signout(e)}}},[t._v("登出")])],1)},v=[],f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"hello"},[a("h1",[t._v(t._s(t.msg))]),t._m(0),a("h3",[t._v("Installed CLI Plugins")]),t._m(1),a("h3",[t._v("Essential Links")]),t._m(2),a("h3",[t._v("Ecosystem")]),t._m(3)])},h=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[t._v(" For a guide and recipes on how to configure / customize this project,"),a("br"),t._v(" check out the "),a("a",{attrs:{href:"https://cli.vuejs.org",target:"_blank",rel:"noopener"}},[t._v("vue-cli documentation")]),t._v(". ")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",[a("li",[a("a",{attrs:{href:"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-babel",target:"_blank",rel:"noopener"}},[t._v("babel")])]),a("li",[a("a",{attrs:{href:"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-router",target:"_blank",rel:"noopener"}},[t._v("router")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",[a("li",[a("a",{attrs:{href:"https://vuejs.org",target:"_blank",rel:"noopener"}},[t._v("Core Docs")])]),a("li",[a("a",{attrs:{href:"https://forum.vuejs.org",target:"_blank",rel:"noopener"}},[t._v("Forum")])]),a("li",[a("a",{attrs:{href:"https://chat.vuejs.org",target:"_blank",rel:"noopener"}},[t._v("Community Chat")])]),a("li",[a("a",{attrs:{href:"https://twitter.com/vuejs",target:"_blank",rel:"noopener"}},[t._v("Twitter")])]),a("li",[a("a",{attrs:{href:"https://news.vuejs.org",target:"_blank",rel:"noopener"}},[t._v("News")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",[a("li",[a("a",{attrs:{href:"https://router.vuejs.org",target:"_blank",rel:"noopener"}},[t._v("vue-router")])]),a("li",[a("a",{attrs:{href:"https://vuex.vuejs.org",target:"_blank",rel:"noopener"}},[t._v("vuex")])]),a("li",[a("a",{attrs:{href:"https://github.com/vuejs/vue-devtools#vue-devtools",target:"_blank",rel:"noopener"}},[t._v("vue-devtools")])]),a("li",[a("a",{attrs:{href:"https://vue-loader.vuejs.org",target:"_blank",rel:"noopener"}},[t._v("vue-loader")])]),a("li",[a("a",{attrs:{href:"https://github.com/vuejs/awesome-vue",target:"_blank",rel:"noopener"}},[t._v("awesome-vue")])])])}],g={name:"HelloWorld",props:{msg:String}},_=g,b=(a("220e"),Object(l["a"])(_,f,h,!1,null,"116c7c08",null)),C=b.exports,y={name:"Home",components:{HelloWorld:C},methods:{signout:function(){var t="".concat("https://vue-course-api.hexschool.io","/logout"),e=this;this.$http.post(t).then((function(t){console.log(t.data),t.data.success&&e.$router.push("/login")}))}}},x=y,k=Object(l["a"])(x,m,v,!1,null,null,null),w=k.exports,$=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("form",{staticClass:"form-signin",on:{submit:function(e){return e.preventDefault(),t.signin(e)}}},[a("img",{staticClass:"mb-4",attrs:{src:"/docs/4.5/assets/brand/bootstrap-solid.svg",alt:"",width:"72",height:"72"}}),a("h1",{staticClass:"h3 mb-3 font-weight-normal"},[t._v("請登入")]),a("label",{staticClass:"sr-only",attrs:{for:"inputEmail"}},[t._v("Email address")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.username,expression:"user.username"}],staticClass:"form-control",attrs:{type:"email",id:"inputEmail",placeholder:"帳號",required:"",autofocus:""},domProps:{value:t.user.username},on:{input:function(e){e.target.composing||t.$set(t.user,"username",e.target.value)}}}),a("label",{staticClass:"sr-only",attrs:{for:"inputPassword"}},[t._v("Password")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],staticClass:"form-control",attrs:{type:"password",id:"inputPassword",placeholder:"密碼",required:""},domProps:{value:t.user.password},on:{input:function(e){e.target.composing||t.$set(t.user,"password",e.target.value)}}}),t._m(0),a("button",{staticClass:"btn btn-lg btn-primary btn-block",attrs:{type:"submit"}},[t._v("Sign in")])])])},j=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"checkbox mb-3"},[a("label",[a("input",{attrs:{type:"checkbox",value:"remember-me"}}),t._v(" 記住帳密 ")])])}],O={name:"Login",data:function(){return{user:{username:"",password:""}}},methods:{signin:function(){var t="".concat("https://vue-course-api.hexschool.io","/admin/signin"),e=this;this.$http.post(t,e.user).then((function(t){console.log(t.data),t.data.success&&e.$router.push("/admin/products")}))}}},E=O,P=(a("bbd1"),Object(l["a"])(E,$,j,!1,null,"50d1b7ae",null)),q=P.exports,I=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Navbar"),a("Alert"),a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[a("Sidebar"),a("main",{staticClass:"col-md-9 ml-sm-auto col-lg-10 px-md-4",attrs:{role:"main"}},[a("router-view")],1)],1)])],1)},L=[],M=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"sticky-top"},[a("nav",{staticClass:"navbar navbar-dark sticky-top bg-dark flex-md-nowrap p-0 shadow"},[a("a",{staticClass:"navbar-brand col-md-3 col-lg-2 mr-0 px-3",attrs:{href:"#"}},[t._v("Company name")]),t._m(0),a("ul",{staticClass:"navbar-nav px-3"},[a("li",{staticClass:"nav-item text-nowrap"},[a("a",{staticClass:"btn btn-secondary",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.signout(e)}}},[t._v("登出")])])])])])},N=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"navbar-toggler position-absolute d-md-none collapsed",attrs:{type:"button","data-toggle":"collapse","data-target":"#sidebarMenu","aria-controls":"sidebarMenu","aria-expanded":"false","aria-label":"Toggle navigation"}},[a("span",{staticClass:"navbar-toggler-icon"})])}],S={name:"Home",components:{HelloWorld:C},methods:{signout:function(){var t="".concat("https://vue-course-api.hexschool.io","/logout"),e=this;this.$http.post(t).then((function(t){console.log(t.data),t.data.success&&e.$router.push("/login")}))}}},T=S,A=Object(l["a"])(T,M,N,!1,null,null,null),D=A.exports,V=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("nav",{staticClass:"col-md-3 col-lg-2 d-md-block bg-light sidebar collapse",attrs:{id:"sidebarMenu"}},[a("div",{staticClass:"sidebar-sticky pt-3"},[a("ul",{staticClass:"nav flex-column"},[t._m(0),a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",attrs:{href:"#"}},[a("router-link",{attrs:{to:"/admin/products"}},[a("i",{staticClass:"fas fa-box-open"}),t._v(" 產品 ")])],1)]),a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",attrs:{href:"#"}},[a("router-link",{attrs:{to:"/admin/orders"}},[t._v("訂單")])],1)]),a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",attrs:{href:"#"}},[a("router-link",{attrs:{to:"/admin/coupons"}},[t._v("優惠券")])],1)])]),t._m(1),a("ul",{staticClass:"nav flex-column mb-2"},[a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",attrs:{href:"#"}},[a("router-link",{attrs:{to:"/admin/customer_order"}},[t._v("模擬訂單")])],1)])])])])])},H=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h6",{staticClass:"sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted"},[a("span",[t._v("管理員")]),a("a",{staticClass:"d-flex align-items-center text-muted",attrs:{href:"#","aria-label":"Add a new report"}},[a("span",{attrs:{"data-feather":"plus-circle"}})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h6",{staticClass:"sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted"},[a("span",[t._v("模擬功能")]),a("a",{staticClass:"d-flex align-items-center text-muted",attrs:{href:"#","aria-label":"Add a new report"}},[a("span",{attrs:{"data-feather":"plus-circle"}})])])}],W={},F=W,z=Object(l["a"])(F,V,H,!1,null,"207830bf",null),U=z.exports,J=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"message-alert"},t._l(t.messages,(function(e,s){return a("div",{key:s,staticClass:"alert alert-dismissible",class:"alert-"+e.status},[t._v(" "+t._s(e.message)+" "),a("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.removeMessage(s)}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])})),0)},B=[],G=(a("4160"),a("a434"),a("159b"),{name:"Navbar",data:function(){return{messages:[]}},methods:{updateMessage:function(t,e){var a=Math.floor(new Date/1e3);this.messages.push({message:t,status:e,timestamp:a}),this.removeMessageWithTiming(a)},removeMessage:function(t){this.messages.splice(t,1)},removeMessageWithTiming:function(t){var e=this;setTimeout((function(){e.messages.forEach((function(a,s){a.timestamp===t&&e.messages.splice(s,1)}))}),5e3)}},created:function(){var t=this;t.$bus.$on("message:push",(function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"warning";t.updateMessage(e,a)}))}}),K=G,Q=(a("6a19"),Object(l["a"])(K,J,B,!1,null,null,null)),R=Q.exports,X={components:{Navbar:D,Sidebar:U,Alert:R}},Y=X,Z=Object(l["a"])(Y,I,L,!1,null,"51a0446d",null),tt=Z.exports,et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),a("div",{staticClass:"row mt-4"},t._l(t.products,(function(e){return a("div",{key:e.id,staticClass:"col-md-4 mb-4"},[a("div",{staticClass:"card border-0 shadow-sm"},[a("div",{staticStyle:{height:"150px","background-size":"cover","background-position":"center"},style:{backgroundImage:"url("+e.imageUrl+")"}}),a("div",{staticClass:"card-body"},[a("span",{staticClass:"badge badge-secondary float-right ml-2"},[t._v(t._s(e.category))]),a("h5",{staticClass:"card-title"},[a("a",{staticClass:"text-dark",attrs:{href:"#"}},[t._v(t._s(e.title))])]),a("p",{staticClass:"card-text"},[t._v(t._s(e.description))]),a("div",{staticClass:"d-flex justify-content-between align-items-baseline"},[a("del",{staticClass:"h6"},[t._v("原價 "+t._s(t._f("currency")(e.origin_price))+" 元")]),a("div",{staticClass:"h5"},[t._v("現在只要 "+t._s(t._f("currency")(e.price))+" 元")])])]),a("div",{staticClass:"card-footer d-flex"},[a("button",{staticClass:"btn btn-outline-secondary btn-sm",attrs:{type:"button"},on:{click:function(a){return t.getProuduct(e.id)}}},[t.status.lodingItem===e.id?a("i",{staticClass:"fas fa-spinner fa-spin"}):t._e(),t._v(" 查看更多 ")]),a("button",{staticClass:"btn btn-outline-danger btn-sm ml-auto",attrs:{type:"button"},on:{click:function(a){return t.addToCart(e.id)}}},[t.status.lodingItem===e.id?a("i",{staticClass:"fas fa-spinner fa-spin"}):t._e(),t._v(" 加到購物車 ")])])])])})),0),a("div",{staticClass:"row justify-content-center mt-5 mb-5"},[a("table",{staticClass:"table col-lg-5"},[t._m(0),a("tbody",t._l(t.carts,(function(e){return a("tr",{key:e.id},[a("th",{attrs:{scope:"row"}},[a("button",{staticClass:"btn btn-outline-danger",attrs:{type:"button"},on:{click:function(a){return t.deleteCart(e.id)}}},[a("i",{staticClass:"fa fa-trash",attrs:{"aria-hidden":"true"}})])]),a("td",[t._v(t._s(e.product.title))]),a("td",[t._v(t._s(e.qty)+" "+t._s(e.product.unit))]),a("td",{staticClass:"text-right"},[t._v(t._s(t._f("currency")(e.product.price))+" 元")])])})),0),a("tfoot",[a("tr",[a("td",{staticClass:"text-right",attrs:{colspan:"3"}},[t._v("總計")]),a("td",{staticClass:"text-right"},[t._v(t._s(t._f("currency")(t.total))+" 元")])]),t.total!==t.final_total?a("tr",[a("td",{staticClass:"text-right text-success",attrs:{colspan:"3"}},[t._v("折扣價")]),a("td",{staticClass:"text-right"},[t._v(t._s(t._f("currency")(t.final_total))+" 元")])]):t._e()])])]),a("div",{staticClass:"row justify-content-center mt-5 mb-5 no-gutters"},[a("div",{staticClass:"input-group mb-3 input-group-sm col-lg-5"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.coupon_code,expression:"coupon_code"}],staticClass:"form-control",attrs:{type:"text",placeholder:"請輸入優惠碼"},domProps:{value:t.coupon_code},on:{input:function(e){e.target.composing||(t.coupon_code=e.target.value)}}}),a("div",{staticClass:"input-group-append"},[a("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button"},on:{click:t.addCouponCode}},[t._v("套用優惠碼")])])])]),a("div",{staticClass:"mt-5 row justify-content-center no-gutters"},[a("ValidationObserver",{ref:"form",staticClass:"col-lg-5"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[a("div",{staticClass:"form-group"},[a("ValidationProvider",{attrs:{name:"email",rules:"required|email"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("label",{attrs:{for:"useremail"}},[t._v("Email")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.email,expression:"form.user.email"}],staticClass:"form-control",class:{"is-invalid":s[0]},attrs:{type:"email",name:"email",id:"useremail",placeholder:"請輸入 Email"},domProps:{value:t.form.user.email},on:{input:function(e){e.target.composing||t.$set(t.form.user,"email",e.target.value)}}}),s[0]?a("span",{staticClass:"text-danger"},[t._v(t._s(s[0]))]):t._e()]}}])})],1),a("div",{staticClass:"form-group"},[a("ValidationProvider",{attrs:{name:"name",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("label",{attrs:{for:"username"}},[t._v("收件人姓名")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.name,expression:"form.user.name"}],staticClass:"form-control",class:{"is-invalid":s[0]},attrs:{type:"text",name:"First Name",id:"username",placeholder:"輸入姓名"},domProps:{value:t.form.user.name},on:{input:function(e){e.target.composing||t.$set(t.form.user,"name",e.target.value)}}}),s[0]?a("span",{staticClass:"text-danger"},[t._v(t._s(s[0]))]):t._e()]}}])})],1),a("div",{staticClass:"form-group"},[a("ValidationProvider",{attrs:{name:"tel",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("label",{attrs:{for:"usertel"}},[t._v("收件人電話")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.tel,expression:"form.user.tel"}],staticClass:"form-control",class:{"is-invalid":s[0]},attrs:{type:"tel",id:"usertel",placeholder:"請輸入電話"},domProps:{value:t.form.user.tel},on:{input:function(e){e.target.composing||t.$set(t.form.user,"tel",e.target.value)}}}),s[0]?a("span",{staticClass:"text-danger"},[t._v("請填入電話")]):t._e()]}}])})],1),a("div",{staticClass:"form-group"},[a("ValidationProvider",{attrs:{name:"address",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("label",{attrs:{for:"useraddress"}},[t._v("收件人地址")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.address,expression:"form.user.address"}],staticClass:"form-control",class:{"is-invalid":s[0]},attrs:{type:"text",name:"address",id:"useraddress",placeholder:"請輸入地址"},domProps:{value:t.form.user.address},on:{input:function(e){e.target.composing||t.$set(t.form.user,"address",e.target.value)}}}),a("span",{staticClass:"text-danger"},[t._v("地址欄位不得留空")])]}}])})],1),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"comment"}},[t._v("留言")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.message,expression:"form.message"}],staticClass:"form-control",attrs:{name:"",id:"comment",cols:"30",rows:"10"},domProps:{value:t.form.message},on:{input:function(e){e.target.composing||t.$set(t.form,"message",e.target.value)}}})]),a("button",{staticClass:"btn btn-info",attrs:{type:"reset"}},[t._v("重設資料")]),a("button",{staticClass:"btn btn-danger",attrs:{type:"submit"}},[t._v("送出訂單")])])])],1),a("div",{staticClass:"modal",attrs:{tabindex:"-1",role:"dialog",id:"productModal"}},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title"},[t._v(t._s(t.product.title))]),t._m(1)]),a("div",{staticClass:"modal-body"},[a("img",{staticClass:"img-fluid",attrs:{src:t.product.imageUrl}}),a("blockquote",[a("p",{staticClass:"mb-0"},[t._v(t._s(t.product.content))]),a("span",{staticClass:"badge badge-secondary"},[t._v(t._s(t.product.category))]),a("footer",{staticClass:"blockquote-footer text-right"},[t._v(t._s(t.product.description))])]),a("div",{staticClass:"d-flex justify-content-between align-items-baseline"},[t.product.price?t._e():a("div",{staticClass:"h4"},[t._v(t._s(t.product.origin_price)+"元")]),t.product.price?a("div",{staticClass:"h6"},[t._v(t._s(t.product.origin_price)+"元")]):t._e(),t.product.price?a("div",{staticClass:"h4"},[t._v(t._s(t.product.price)+"元")]):t._e()]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.product.num,expression:"product.num"}],staticClass:"form-control mt-3",attrs:{name:"",id:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.product,"num",e.target.multiple?a:a[0])}}},t._l(10,(function(e){return a("option",{key:e,domProps:{value:e}},[t._v("選購"+t._s(e)+t._s(t.product.unit))])})),0)]),a("div",{staticClass:"modal-footer"},[a("div",{staticClass:"text-muted text-nowrap mr-3"},[t._v(" 小計 "),a("strong",[t._v(t._s(t.product.num*t.product.price)+"元")])]),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.addToCart(t.product.id,t.product.num)}}},[t._v("加到購物車")])])])])])],1)},at=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{attrs:{scope:"col",width:"50"}},[t._v("刪除")]),a("th",{attrs:{scope:"col"}},[t._v("品名")]),a("th",{attrs:{scope:"col"}},[t._v("數量")]),a("th",{staticClass:"text-right",attrs:{scope:"col"}},[t._v("單價")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])}],st=(a("99af"),a("ade3")),rt=a("1157"),ot=a.n(rt),nt={data:function(){return Object(st["a"])({products:[],product:{},form:{user:{name:"",email:"",tel:"",address:""},message:""},coupon_code:"",status:{lodingItem:""},final_total:{},total:{},pagination:{},carts:[],tempProduct:{},isNew:!1,isLoading:!1},"status",{fileUpLoading:!1})},methods:{getProducts:function(){var t="".concat("https://vue-course-api.hexschool.io","/api/").concat("redbs5566","/products/all"),e=this;e.isLoading=!0,this.$http.get(t).then((function(t){e.isLoading=!1,e.products=t.data.products,console.log("response",t.data),console.log("資料5678",e.products)}))},getProuduct:function(t){var e="".concat("https://vue-course-api.hexschool.io","/api/").concat("redbs5566","/product/").concat(t),a=this;a.status.lodingItem=t,this.$http.get(e).then((function(t){a.product=t.data.product,ot()("#productModal").modal("show"),console.log("response",t.data),console.log("個別資料",a.product),a.status.lodingItem=""}))},addToCart:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("redbs5566","/cart"),s=this;s.status.lodingItem=t;var r={product_id:t,qty:e};this.$http.post(a,{data:r}).then((function(t){console.log("response",t.data),s.getCart(),ot()("#productModal").modal("hide"),s.status.lodingItem=""}))},getCart:function(){var t="".concat("https://vue-course-api.hexschool.io","/api/").concat("redbs5566","/cart"),e=this;this.$http.get(t).then((function(t){e.carts=t.data.data.carts,e.final_total=t.data.data.final_total,e.total=t.data.data.total,console.log("取得購物車",t)}))},deleteCart:function(t){var e="".concat("https://vue-course-api.hexschool.io","/api/").concat("redbs5566","/cart/").concat(t),a=this;this.$http.delete(e).then((function(t){a.getCart()}))},addCouponCode:function(){var t="".concat("https://vue-course-api.hexschool.io","/api/").concat("redbs5566","/coupon"),e=this,a={code:e.coupon_code};this.$http.post(t,{data:a}).then((function(t){e.getCart(),console.log("折扣",t)}))},creatorOrder:function(){var t="".concat("https://vue-course-api.hexschool.io","/api/").concat("redbs5566","/order"),e=this,a=e.form;this.$http.post(t,{data:a}).then((function(t){console.log("訂單建立",t),t.data.success&&e.$router.push("/customer_check_out/".concat(t.data.orderId))}))},onSubmit:function(){var t=this;this.$refs.form.validate().then((function(e){e?t.creatorOrder():console.log("訂單建立失敗")}))}},created:function(){this.getProducts(),this.getCart()}},it=nt,ct=Object(l["a"])(it,et,at,!1,null,"175e4068",null),lt=ct.exports,ut=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"my-5 row justify-content-center"},[a("form",{staticClass:"col-md-6",on:{submit:function(e){return e.preventDefault(),t.payOrder(e)}}},[a("table",{staticClass:"table"},[t._m(0),a("tbody",t._l(t.order.products,(function(e){return a("tr",{key:e.id},[a("td",{staticClass:"align-middle"},[t._v(t._s(e.product.title))]),a("td",{staticClass:"align-middle"},[t._v(t._s(e.qty)+"/"+t._s(e.product.unit))]),a("td",{staticClass:"align-middle text-right"},[t._v(t._s(e.final_total))])])})),0),a("tfoot",[a("tr",[a("td",{staticClass:"text-right",attrs:{colspan:"2"}},[t._v("總計")]),a("td",{staticClass:"text-right"},[t._v(t._s(t.order.total))])])])]),a("table",{staticClass:"table"},[a("tbody",[a("tr",[a("th",{attrs:{width:"100"}},[t._v("Email")]),a("td",[t._v(t._s(t.order.user.email))])]),a("tr",[a("th",[t._v("姓名")]),a("td",[t._v(t._s(t.order.user.name))])]),a("tr",[a("th",[t._v("收件人電話")]),a("td",[t._v(t._s(t.order.user.tel))])]),a("tr",[a("th",[t._v("收件人地址")]),a("td",[t._v(t._s(t.order.user.address))])]),a("tr",[a("th",[t._v("付款狀態")]),a("td",[t.order.is_paid?a("span",{staticClass:"text-success"},[t._v("付款完成")]):a("span",[t._v("尚未付款")])])])])]),!1===t.order.is_paid?a("div",{staticClass:"text-right"},[a("button",{staticClass:"btn btn-danger"},[t._v("確認付款去")])]):t._e()])])])},dt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("th",[t._v("品名")]),a("th",[t._v("數量")]),a("th",[t._v("單價")])])}],pt={data:function(){return{orderId:"",order:{user:{}}}},methods:{getOrder:function(){var t=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("redbs5566","/order/").concat(t.orderId);t.isLoading=!0,this.$http.get(e).then((function(e){t.order=e.data.order,console.log("response",e),t.isLoading=!1}))},payOrder:function(){var t=this,e=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("redbs5566","/pay/").concat(e.orderId);e.isLoading=!0,this.$http.post(a).then((function(a){console.log("response",a),t.getOrder(),e.isLoading=!1}))}},created:function(){this.orderId=this.$route.params.orderId,this.getOrder()}},mt=pt,vt=Object(l["a"])(mt,ut,dt,!1,null,"19ab532b",null),ft=vt.exports;r["a"].use(p["a"]);var ht=[{path:"/admin",name:"Dashboard",component:tt,children:[{path:"products",name:"Products",meta:{requiresAuth:!0},component:function(){return a.e("chunk-b0295d50").then(a.bind(null,"5545"))}},{path:"orders",name:"Orders",meta:{requiresAuth:!0},component:function(){return a.e("chunk-2d0ab565").then(a.bind(null,"159d"))}},{path:"coupons",name:"Coupons",meta:{requiresAuth:!0},component:function(){return a.e("chunk-1ec72f47").then(a.bind(null,"f329"))}}]},{path:"*",redirect:"login"},{path:"/",name:"Home",component:w,meta:{requiresAuth:!0}},{path:"/about",name:"About",component:function(){return a.e("about").then(a.bind(null,"f820"))}},{path:"/login",name:"Login",component:q},{path:"/",name:"Dashboard",component:tt,children:[{path:"customer_order",name:"Customerorder",component:lt},{path:"customer_check_out/:orderId",name:"CustomerCheckOut",component:ft}]}],gt=new p["a"]({routes:ht}),_t=gt,bt=a("9062"),Ct=a.n(bt);a("e40d"),a("4989");r["a"].prototype.$bus=new r["a"]({});var yt=a("bc3a"),xt=a.n(yt),kt=a("a7fe"),wt=a.n(kt),$t=(a("a9e3"),a("b680"),a("ac1f"),a("5319"),function(t){var e=Number(t);return"$".concat(e.toFixed(0).replace(/./g,(function(t,e,a){var s=e&&"."!==t&&(a.length-e)%3===0?", ".concat(t).replace(/\s/g,""):t;return s})))}),jt=a("7bb1"),Ot=a("4c93"),Et=a("60d4");Object(jt["c"])("email",Ot["a"]),Object(jt["c"])("required",Object(s["a"])(Object(s["a"])({},Ot["b"]),{},{message:"請填入資料"})),Object(jt["d"])("zh_TW",Et),Object(jt["c"])("secret",{validate:function(t){return"example"===t},message:"請填入資料"}),r["a"].component("ValidationProvider",jt["b"]),r["a"].component("ValidationObserver",jt["a"]),r["a"].use(wt.a,xt.a),r["a"].config.productionTip=!1,xt.a.defaults.withCredentials=!0,r["a"].component("Loading",Ct.a),r["a"].filter("currency",$t),new r["a"]({router:_t,render:function(t){return t(d)}}).$mount("#app"),_t.beforeEach((function(t,e,a){if(t.meta.requiresAuth){var s="".concat("https://vue-course-api.hexschool.io","/api/user/check");xt.a.post(s).then((function(t){console.log(t.data),t.data.success?a():(alert("這裡需要登入"),a({path:"/login"}))}))}else a()}))},"5c0b":function(t,e,a){"use strict";var s=a("9c0c"),r=a.n(s);r.a},"6a19":function(t,e,a){"use strict";var s=a("3030"),r=a.n(s);r.a},"8d3f":function(t,e,a){},"9c0c":function(t,e,a){},a9f5:function(t,e,a){},bbd1:function(t,e,a){"use strict";var s=a("a9f5"),r=a.n(s);r.a}});
//# sourceMappingURL=app.50de310e.js.map